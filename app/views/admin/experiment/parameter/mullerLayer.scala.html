@(exp: ExperimentSchedule)
@import views.html.admin._
@import views.html.admin.experiment._
@import views.html.form._

<div class="container" ng-app="ExperimentCreator">
    <form role="form" name="parameter" class="form-horizontal" >

        @exp_edit(exp)
        <hr>
        @error()

        <div class="container" ng-controller="MullerLayerCtrl" ng-init="init(@exp.id)">
            <div ng-show="inProcess" class="center-block text-center"><img src="@routes.Assets.at("images/loading.gif")" ></div>
            <div ng-hide="inProcess" ng-repeat="trial in trials">
                <h3>Trial {{$index + 1}}</h3>
                <div class="well">
                    <div class="row">
                        <table class="table text-center admin">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>ความยาวต่าง(cm)</th>
                                    <th>บวก/ลบ ความยาวต่าง</th>
                                    <th>ความยาวของ choice</th>
                                    <th>จำนวน choice</th>
                                    <th>#</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="quiz in trial.quizzes">
                                    <td>คำถามที่ {{$index + 1}}</td>
                                    <td><input style="width:100px;margin:auto;" class="form-control" type="text" ng-pattern="floatPattern" ng-model="quiz.differLength" required /></td>
                                    <td><input type="radio" ng-model="difference" value="+" /> + / <input type="radio" ng-model="difference" value="-" /> -</td>
                                    <td>
                                        <select style="width:110px;margin:auto;" class="form-control" ng-model="quiz.lengthType" ng-options="value for value in lengthTypes">
                                        </select>
                                    </td>
                                    <td>
                                        <select style="width:60px;margin:auto;" class="form-control" ng-model="quiz.noOfChoice" ng-options="value for value in noOfChoices">
                                        </select>
                                    </td>
                                    <td><button ng-click="open(trial)"><span class="glyphicon glyphicon-info-sign"></span></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <script type="text/ng-template" id="preview.html">
                    <div class="modal-header" ng-init="init()" >
                        <h3 class="modal-title">Preview</h3>
                    </div>
                    <div class="modal-body" style="width:800px;height:500px;margin:auto">
                        <div class="visualArea" style="width:800px;height:500px;visibility: visible;margin-left:0;left:0;top:0">
                            <canvas id="arrowPreview" width="800" height="500"></canvas>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" ng-click="ok()">Confirm</button>
                        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                    </div>
                </script>
            </div>
        </div>
    </form>
</div>